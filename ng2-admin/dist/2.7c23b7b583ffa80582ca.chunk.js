webpackJsonp([2],{1003:function(t,e){t.exports='<div class="widgets">\n  <div class="row">\n    <div class="col-md-6">\n\n      <ba-card title="Log Files" baCardClass="with-scroll">\n        <table class="table table-hover">\n          <thead>\n            <tr class="black-muted-bg">\n              <th>#</th>\n              <th>Log file name</th>\n              <th>Download</th>\n              <th>Delete</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor="let file of logFiles; let i=index" class="no-top-border">\n              <td class="align-left">{{ i + 1 }}</td>\n              <td class="align-left">\n                <span>{{ file }}</span>\n              </td>\n              <td class="align-right">\n                <button type="button" class="btn btn-xs btn-default" (click)="download($event, file)">\n                  <i class="fa fa-download"></i> Download\n                </button>\n              </td>\n              <td class="align-right">\n                <button type="button" class="btn btn-xs btn-danger" (click)="delete($event, file)">\n                  <i class="fa fa-trash-o"></i> Delete\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </ba-card>\n\n    </div>\n  </div>\n</div>\n'},1004:function(t,e){t.exports='\n<div class="widgets">\n\n  <div class="row">\n    <div class="col-md-12">\n\n      <ba-card title="{{authService.profile.first_name}} \'{{authService.profile.user_name}}\' {{authService.profile.last_name}}\'s Tasks" baCardClass="with-scroll">\n\n        <h4 class="grid-h">Enter and check off tasks.</h4>\n        <br>\n        <div class="row show-grid">\n\n        </div>\n        <div class="row show-grid">\n          <div class="col-md-8">\n            <div>\n              <div class="task-todo-container">\n                <input type="text" value="" class="form-control task-todo" placeholder="{{\'dashboard.todo.task_todo\' | translate}}" (keyup)="addToDoItem($event)" [(ngModel)]="newTodoText"/>\n                <i (click)="addToDoItem($event)" class="add-item-icon ion-plus-round"></i>\n                <div class="box-shadow-border"></div>\n\n                <ul class="todo-list">\n                  <li *ngFor="let item of getNotDeleted()" [ngClass]="{checked: item.isChecked, active: item.isActive}"\n                      (mouseenter)="item.isActive=true" (mouseleave)="item.isActive=false">\n\n                    <div class="blur-container"><div class="blur-box"></div></div>\n                    <i class="mark" [ngStyle]="{ \'background-color\': item.color }"></i>\n                    <label class="todo-checkbox custom-checkbox custom-input-success">\n                      <input type="checkbox" [(ngModel)]="item.isChecked">\n                      <span class="cut-with-dots">{{ item.text }}</span>\n                    </label>\n                    <i class="remove-todo ion-ios-close-empty" (click)="item.deleted = true; deleteItem(item);"></i>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class="col-md-4">\n            <div></div>\n          </div>\n        </div>\n\n      </ba-card>\n    </div>\n  </div>\n\n</div>\n'},1005:function(t,e){t.exports='<div class="modal-content">\n  <div class="modal-header">\n    <h4 class="modal-title">Edit ime card for {{ timecard.date }}</h4>\n    <button class="close" aria-label="Close" (click)="closeModal()">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-body">\n\n    <div class="form-group">\n      <label for="dayStart"><b>Start of Date</b></label>\n      <input type="time" [(ngModel)]="timecard.start" class="form-control" id="dayStart" aria-describedby="dayStart">\n    </div>\n\n    <div class="form-group">\n      <label for="lunchStart"><b>Start of lunch</b></label>\n      <input type="time" [(ngModel)]="timecard.lunch_start" class="form-control" id="lunchStart" aria-describedby="lunchStart">\n    </div>\n\n    <div class="form-group">\n      <label for="lunchEnd"><b>End of lunch</b></label>\n      <input type="time" [(ngModel)]="timecard.lunch_end" class="form-control" id="lunchEnd" aria-describedby="lunchEnd">\n    </div>\n\n    <div class="form-group">\n      <label for="dayEnd"><b>End of Day</b></label>\n      <input type="time" [(ngModel)]="timecard.end" class="form-control" id="dayEnd" aria-describedby="dayEnd">\n    </div>\n\n    <div class="form-group">\n      <label for="dayComments"><b>Comments</b></label>\n      <textarea class="form-control" [(ngModel)]="timecard.comments" id="dayComments" rows="4"></textarea>\n    </div>\n\n    <span *ngIf="error">\n      <span><small class="error">{{ errorMessage }}</small></span>\n    </span>\n\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-primary confirm-btn" (click)="performAction()">Save</button>\n    <button class="btn btn-danger cancel-btn" (click)="closeModal()">Cancel</button>\n  </div>\n</div>\n'},1006:function(t,e){t.exports='<div class="modal-content">\n  <div class="modal-header">\n    <h4 class="modal-title">Time card for {{ date }}</h4>\n    <button class="close" aria-label="Close" (click)="closeModal()">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-body">\n\n    <div class="form-group">\n      <label for="dayStart"><b>Start of Date</b></label>\n      <input type="time" [(ngModel)]="timeSheet.start" class="form-control" id="dayStart" aria-describedby="dayStart">\n    </div>\n\n    <div class="form-group">\n      <label for="lunchStart"><b>Start of lunch</b></label>\n      <input type="time" [(ngModel)]="timeSheet.lunch_start" class="form-control" id="lunchStart" aria-describedby="lunchStart">\n    </div>\n\n    <div class="form-group">\n      <label for="lunchEnd"><b>End of lunch</b></label>\n      <input type="time" [(ngModel)]="timeSheet.lunch_end" class="form-control" id="lunchEnd" aria-describedby="lunchEnd">\n    </div>\n\n    <div class="form-group">\n      <label for="dayEnd"><b>End of Day</b></label>\n      <input type="time" [(ngModel)]="timeSheet.end" class="form-control" id="dayEnd" aria-describedby="dayEnd">\n    </div>\n\n    <div class="form-group">\n      <label for="dayComments"><b>Comments</b></label>\n      <textarea class="form-control" [(ngModel)]="timeSheet.comments" id="dayComments" rows="4"></textarea>\n    </div>\n\n    <span *ngIf="error">\n      <span><small class="error">{{ errorMessage }}</small></span>\n    </span>\n\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-primary confirm-btn" (click)="performAction()">{{ modalActionButton }}</button>\n    <button class="btn btn-danger cancel-btn" (click)="closeModal()">Cancel</button>\n  </div>\n</div>\n'},1007:function(t,e){t.exports='<div class="horizontal-scroll">\n  <table class="table table-hover">\n    <thead>\n      <tr class="black-muted-bg">\n        \x3c!-- <th>#</th> --\x3e\n        <th>Date</th>\n        <th>Start of Day</th>\n        <th>Start of lunch</th>\n        <th>End of lunch</th>\n        <th>End of Day</th>\n        <th class="align-right">Hours worked</th>\n        <th class="align-right">Notes</th>\n        <th class="align-right">Edit</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor="let timecard of timesheets; let i=index" class="no-top-border">\n        <td class="align-left">\n          <span>{{ timecard.date }}</span>\n        </td>\n        <td>{{ timecard.start }}</td>\n        <td>{{ timecard.lunch_start }}</td>\n        <td>{{ timecard.lunch_end }}</td>\n        <td>{{ timecard.end }}</td>\n        <td class="align-right">{{ hoursWorked[i] }}</td>\n        <td class="align-right">\n          <span class="label label-success" *ngIf="timecard.comments; else no_comments">\n              <i class="fa fa-check" aria-hidden="true"></i>\n          </span>\n          <ng-template #no_comments>\n            <span class="label label-danger">\n            <i class="fa fa-times" aria-hidden="true"></i>\n            </span>\n          </ng-template>\n        </td>\n        <td class="align-right">\n          <a class="btn btn-xs btn-info" (click)="editTimecard($event, timecard)" role="button">\n            <i class="fa fa-eye"></i> View\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div class="modal-footer">\n    <button class="btn btn-danger confirm-btn" (click)="exportToPDF($event)">\n      <i class="fa fa-file-pdf-o" aria-hidden="true"></i> Export to PDF\n    </button>\n    <button class="btn btn-warning cancel-btn" (click)="exportToCSV($event)">\n      <i class="fa fa-file-excel-o" aria-hidden="true"></i> Export to CSV\n    </button>\n  </div>\n</div>\n'},1008:function(t,e){t.exports='<div class="widgets">\n  <div class="row">\n    <div class="col-lg-12 col-md-12">\n      <ba-card title="Time Card" baCardClass="with-scroll table-panel">\n        <ba-full-calendar [baFullCalendarConfiguration]="calendarConfiguration" baFullCalendarClass="blurCalendar" (onCalendarReady)="onCalendarReady($event)"></ba-full-calendar>\n      </ba-card>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-12 col-md-12">\n      <ba-card title="Time Sheets" baCardClass="with-scroll table-panel">\n        <timesheet-table></timesheet-table>\n      </ba-card>\n    </div>\n  </div>\n</div>\n'},1038:function(t,e,o){var n=o(973);"string"==typeof n&&(n=[[t.i,n,""]]);o(30)(n,{});n.locals&&(t.exports=n.locals)},1039:function(t,e,o){var n=o(977);"string"==typeof n&&(n=[[t.i,n,""]]);o(30)(n,{});n.locals&&(t.exports=n.locals)},1059:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},876:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"AdminModule",(function(){return k}));var n=o(0),i=o(16),r=o(21),a=o(195),c=o(194),s=o(483),d=o(970),l=o(920),f=o(886),h=o(923),u=o(889),p=o(921),g=o(895),b=o(890),m=o(887),v=o(892),x=o(891),y=o(922),w=o(893),k=(function(){function t(){}return t})();k=__decorate([o.i(n.z)({imports:[i.d,r.a,a.a,c.a,s.b,s.c,l.a,r.a,r.b,d.a],declarations:[f.a,h.a,y.a,v.a,u.a,x.a,p.a],entryComponents:[v.a,x.a],providers:[g.a,b.a,m.a,w.a]})],k)},882:function(t,e){(function(e){t.exports=e}).call(e,{})},885:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o(0),i=(function(){function t(){this.pageSize="LETTER",this.pageOrientation="portrait",this.base64textString="",this.docDefinition={pageSize:this.pageSize,pageOrientation:this.pageOrientation,content:[],styles:{}}}return t.prototype.open=function(){pdfMake.createPdf(this.docDefinition).open()},t.prototype.print=function(){pdfMake.createPdf(this.docDefinition).print()},t.prototype.download=function(t){pdfMake.createPdf(this.docDefinition).download(t)},t.prototype.configureStyles=function(t){this.docDefinition.styles=t},t.prototype.addText=function(t,e){if(e)return void this.docDefinition.content.push({text:t,style:e});this.docDefinition.content.push(t)},t.prototype.addColumns=function(t){for(var e=[],o=0,n=t;o<n.length;o++){var i=n[o];e.push({text:i})}this.docDefinition.content.push({columns:e})},t.prototype.addTable=function(t){var e=[],o=[];if(t){for(var n=0,i=t.headers.cells;n<i.length;n++){var r=i[n];o.push(r.content)}e.push(o);for(var a=0,c=t.rows;a<c.length;a++){var s=c[a];o=[];for(var d=0,l=s.cells;d<l.length;d++){var f=l[d];o.push(f.content)}e.push(o)}var h=void 0;h=t.widths?{table:{widths:t.widths,body:e}}:{table:{body:e}},this.docDefinition.content.push(h)}},t.prototype.addImage=function(t,e,o){var n,i=this,r=new Image;r.setAttribute("crossOrigin","anonymous"),r.src=t,r.onload=function(){var t=document.createElement("canvas");t.width=r.naturalWidth,t.height=r.naturalHeight,t.getContext("2d").drawImage(r,0,0),n=t.toDataURL("image/png");var a;a=e?o?{image:n,width:e,height:o}:{image:n,width:e}:{image:n},i.docDefinition.content.push(a)}},t.prototype.addUnorderedlist=function(t){this.docDefinition.content.push({ul:t})},t.prototype.addOrderedList=function(t,e,o){e?this.docDefinition.content.push({reversed:e,ol:t}):e&&o?this.docDefinition.content.push({reversed:e,start:o,ol:t}):o?this.docDefinition.content.push({start:o,ol:t}):this.docDefinition.content.push({ol:t})},t.decorators=[{type:n.c}],t.ctorParameters=function(){return[]},t})()},886:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o(0),i=(function(){function t(){}return t})();i=__decorate([o.i(n._10)({selector:"admin",template:"<router-outlet></router-outlet>"}),__metadata("design:paramtypes",[])],i)},887:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o(0),i=o(80),r=o(57),a=(o.n(r),(function(){function t(t){this.http=t,this.localhost="http://localhost:8081",this.live="http://admin.greenchain-engineering.com",this.logFileUrl="/api/v1/demo/logfiles",this.downloadUrl="/api/v1/demo/downloadlogfiles/"}return t.prototype.getLogFiles=function(){new i.d;return this.http.get(this.logFileUrl).map((function(t){return t.json()}))},t.prototype.downloadLogFile=function(t){return this.http.get(this.downloadUrl+t,{responseType:i.b.Blob}).map((function(t){return new Blob([t.blob()],{type:"application/txt"})}))},t})());a=__decorate([o.i(n.c)(),__metadata("design:paramtypes",[i.c])],a)},888:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o(0),i=o(887),r=o(919),a=(o.n(r),(function(){function t(t){this.logFileService=t}return t.prototype.ngOnInit=function(){var t=this;this.logFileService.getLogFiles().subscribe((function(e){console.log(e);for(var o=[],n=0,i=e;n<i.length;n++){var r=i[n],a=r.split("/");o.push(a[1])}t.logFiles=o}),(function(t){return console.log(t),!1}))},t.prototype.download=function(t,e){console.log("Download: "+e),this.logFileService.downloadLogFile(e).subscribe((function(t){o.i(r.saveAs)(t,e);var n=URL.createObjectURL(t);window.open(n)}))},t.prototype.delete=function(t,e){console.log("Delete: "+e)},t})());a=__decorate([o.i(n._10)({selector:"admin-logs",template:o(1003)}),__metadata("design:paramtypes",[i.a])],a)},889:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var n=o(0),i=o(483),r=o(890),a=o(486),c=o(96),s=o(44),d=o(1038),l=(o.n(d),(function(){function t(t,e,o,n,i){var r=this;this._baConfig=t,this.modalService=e,this.notepadService=o,this.firebaseAdminService=n,this.authService=i,this.dashboardColors=this._baConfig.get().colors.dashboard,this.newTodoText="",this.todoList=this.notepadService.getTodoList(),this.getTasks(),this.todoList.forEach((function(t){t.color=r._getRandomColor()}))}return t.prototype.getTasks=function(){var t=this,e=this;this.firebaseAdminService.getUserTasks(this.authService.getUID()).subscribe((function(o){e.todoList=[];for(var n in o)e.todoList.unshift({text:String(o[n].$value),color:t._getRandomColor()})}))},t.prototype.deleteItem=function(t){var e,o,n=this.authService.getUID(),i=this;this.firebaseAdminService.startDeleteUserTask(n,String(t.text)).subscribe((function(t){e=String(t[0].$key),o=i.firebaseAdminService.getNotepadUpdatePath(n,e),i.firebaseAdminService.finishDeleteUserTask(o)}))},t.prototype.getNotDeleted=function(){return this.todoList.filter((function(t){return!t.deleted}))},t.prototype.addToDoItem=function(t){1!==t.which&&13!==t.which||""==this.newTodoText.trim()||(this.todoList.unshift({text:this.newTodoText,color:this._getRandomColor()}),this.firebaseAdminService.addUserTask(this.authService.getUID(),this.newTodoText),this.newTodoText="")},t.prototype._getRandomColor=function(){var t=this,e=Object.keys(this.dashboardColors).map((function(e){return t.dashboardColors[e]}));return e[Math.floor(Math.random()*(e.length-1))]},t})());l=__decorate([o.i(n._10)({selector:"notepad",template:o(1004)}),__metadata("design:paramtypes",[s.b,i.e,r.a,a.a,c.a])],l)},890:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o(0),i=(function(){function t(){this._todoList=[]}return t.prototype.getTodoList=function(){return this._todoList},t})();i=__decorate([o.i(n.c)()],i)},891:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(0),i=o(483),r=o(484),a=o(486),c=(function(){function t(t,e,o){this.firebaseService=t,this.firebaseAdminService=e,this.activeModal=o,this.error=!1,this.errorMessage=""}return t.prototype.ngOnInit=function(){},t.prototype.formatDate=function(t){var e=new Date(t),o=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear();return o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),[i,o,n].join("-")},t.prototype.performAction=function(){var t=new Date,e=this.formatDate(t),o=new Date(Date.parse(e+" "+this.timecard.start+":00")),n=new Date(Date.parse(e+" "+this.timecard.end+":00")),i=new Date(Date.parse(e+" "+this.timecard.lunch_start+":00")),r=new Date(Date.parse(e+" "+this.timecard.lunch_end+":00"));return n.getTime()-o.getTime()<=0?(this.error=!0,void(this.errorMessage="The day start time can't be after the day end time")):r.getTime()-i.getTime()<=0?(this.error=!0,void(this.errorMessage="The lunch start time can't be after the lunch end time")):i.getTime()-o.getTime()<=0?(this.error=!0,void(this.errorMessage="The day start must be before the start of lunch")):n.getTime()-r.getTime()<=0?(this.error=!0,void(this.errorMessage="The day end must be after the end of lunch")):(console.log("Updating timecard"),this.firebaseAdminService.updateTimeSheet(this.timecard.uid,this.timecard),this.activeModal.close(),void 0)},t.prototype.closeModal=function(){this.activeModal.close()},t})();c=__decorate([o.i(n._10)({selector:"edit-timesheet-modal",styles:[o(974)],template:o(1005)}),__metadata("design:paramtypes",[r.a,a.a,i.d])],c)},892:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var n=o(0),i=o(483),r=o(21),a=o(484),c=o(486),s=o(96),d=(function(){function t(t,e,o,n,i){this.firebaseService=t,this.firebaseAdminService=e,this.authService=o,this.formBuilder=n,this.activeModal=i,this.error=!1,this.errorMessage="",this.modalActionButton="Save"}return t.prototype.ngOnInit=function(){this.timeSheet={uid:this.authService.getUID(),date:this.date,start:"09:00",end:"17:00",lunch_start:"12:30",lunch_end:"13:00",comments:""}},t.prototype.formatDate=function(t){var e=new Date(t),o=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear();return o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),[i,o,n].join("-")},t.prototype.performAction=function(){var t=new Date,e=this.formatDate(t),o=new Date(Date.parse(e+" "+this.timeSheet.start+":00")),n=new Date(Date.parse(e+" "+this.timeSheet.end+":00")),i=new Date(Date.parse(e+" "+this.timeSheet.lunch_start+":00")),r=new Date(Date.parse(e+" "+this.timeSheet.lunch_end+":00"));return n.getTime()-o.getTime()<=0?(this.error=!0,void(this.errorMessage="The day start time can't be after the day end time")):r.getTime()-i.getTime()<=0?(this.error=!0,void(this.errorMessage="The lunch start time can't be after the lunch end time")):i.getTime()-o.getTime()<=0?(this.error=!0,void(this.errorMessage="The day start must be before the start of lunch")):n.getTime()-r.getTime()<=0?(this.error=!0,void(this.errorMessage="The day end must be after the end of lunch")):(console.log(this.timeSheet),this.firebaseAdminService.addTimeSheet(this.timeSheet.uid,this.timeSheet),this.activeModal.close(),void 0)},t.prototype.closeModal=function(){this.activeModal.close()},t})();d=__decorate([o.i(n._10)({selector:"admin-timesheet-modal",styles:[o(975)],template:o(1006)}),__metadata("design:paramtypes",[a.a,c.a,s.a,r.e,i.d])],d)},893:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o(0),i=o(80),r=o(57),a=(o.n(r),(function(){function t(t){this.http=t,this.localhost="http://localhost:8081",this.live="http://admin.greenchain-engineering.com",this.pdfUrl="/api/v1/demo/generate/",this.downloadUrl="/api/v1/demo/downloadtimesheet/"}return t.prototype.getPDFFileLocation=function(t){var e=this.pdfUrl+t;return console.log(e),this.http.get(e).map((function(t){return t.json(),t.json()}))},t.prototype.downloadPDFFile=function(t){var e=this.downloadUrl+t;return console.log(e),this.http.get(e,{responseType:i.b.Blob}).map((function(t){return new Blob([t.blob()],{type:"application/pdf"})}))},t})());a=__decorate([o.i(n.c)(),__metadata("design:paramtypes",[i.c])],a)},894:function(t,e,o){"use strict";(function(t){o.d(e,"a",(function(){return f}));var n=o(0),i=o(483),r=o(895),a=o(16),c=o(892),s=o(486),d=o(96),l=o(1039),f=(o.n(l),(function(){function e(e,o,n,i){var r=this;this.modalService=e,this.timesheetService=o,this.firebaseAdminService=n,this.authService=i,this.userTimesheet=[],this.calendarConfiguration=this.timesheetService.getInitialData(),this.calendarConfiguration.select=function(t,e){return r._onSelect(t,e)},this.firebaseAdminService.getUserTimeSheets(this.authService.getUID()).subscribe((function(e){e.forEach((function(e){var o={title:e.start+" - "+e.end,start:e.date,color:"#ff0000"};r.userTimesheet.includes(e.$key)||(r.userTimesheet.push(e.$key),t(r._calendar).fullCalendar("renderEvent",o,!0))}))}))}return e.prototype.onCalendarReady=function(t){this._calendar=t},e.prototype._onSelect=function(e,o){if(null!=this._calendar){var n=new a.k,i=n.transform(e._d,"yyyy-MM-dd");this.showConfirmModal(i),t(this._calendar).fullCalendar("unselect")}},e.prototype.showConfirmModal=function(t){this.modalService.open(c.a,{size:"md"}).componentInstance.date=t},e})());f=__decorate([o.i(n._10)({selector:"timesheet",template:o(1008)}),__metadata("design:paramtypes",[i.e,r.a,s.a,d.a])],f)}).call(e,o(13))},895:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(0),i=o(44),r=(function(){function t(t){this._baConfig=t}return t.prototype.formatDate=function(t){var e=new Date(t),o=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear();return o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),[i,o,n].join("-")},t.prototype.getInitialData=function(){var t=new Date,e=this.formatDate(t);this._baConfig.get().colors.dashboard;return{header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},defaultDate:e,selectable:!0,selectHelper:!0,editable:!0,eventLimit:!0,events:[]}},t})();r=__decorate([o.i(n.c)(),__metadata("design:paramtypes",[i.b])],r)},919:function(t,e,o){var n,i=i||(function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,o=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,r=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},d=function(t){var e=function(){"string"==typeof t?o().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},l=function(t,e,o){e=[].concat(e);for(var n=e.length;n--;){var i=t["on"+e[n]];if("function"==typeof i)try{i.call(t,o||t)}catch(t){s(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,s,h){h||(e=f(e));var u,p=this,g=e.type,b="application/octet-stream"===g,m=function(){l(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return u=o().createObjectURL(e),void setTimeout((function(){n.href=u,n.download=s,r(n),m(),d(u),p.readyState=p.DONE}));(function(){if((c||b&&a)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=c?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,m()},n.readAsDataURL(e),void(p.readyState=p.INIT)}if(u||(u=o().createObjectURL(e)),b)t.location.href=u;else{t.open(u,"_blank")||(t.location.href=u)}p.readyState=p.DONE,m(),d(u)})()},u=h.prototype,p=function(t,e,o){return new h(t,e||t.name||"download",o)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,o){return e=e||t.name||"download",o||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,p)}})("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=i:null!==o(1059)&&null!==o(882)&&void 0!==(n=function(){return i}.call(e,o,e,t))&&(t.exports=n)},920:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var n=o(33),i=o(886),r=o(889),a=o(894),c=o(888),s=[{path:"",component:i.a,children:[{path:"timesheets",component:a.a},{path:"todo",component:r.a},{path:"logs",component:c.a}]}],d=n.a.forChild(s)},921:function(t,e,o){"use strict";var n=o(888);o.d(e,"a",(function(){return n.a}))},922:function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var n=o(0),i=o(483),r=o(891),a=o(484),c=o(486),s=o(96),d=o(196),l=o(893),f=o(885),h=o(919),u=(o.n(h),(function(){function t(t,e,o,n,i,r,a){this.firebaseService=t,this.firebaseAdminService=e,this.authService=o,this.userService=n,this.timesheetService=i,this.modalService=r,this.pdfmake=a}return t.prototype.ngOnInit=function(){var t=this;this.timesheets=[],this.hoursWorked=[],this.pdfArray=[],this.userService.getUserObject(this.authService.getUID()).subscribe((function(e){t.user=e})),this.firebaseAdminService.getUserTimeSheets(this.authService.getUID()).subscribe((function(e){t.timesheets=e,e.forEach((function(e){var o=new Date,n=t.formatDate(o),i=new Date(Date.parse(n+" "+e.start+":00")),r=new Date(Date.parse(n+" "+e.end+":00")),a=new Date(Date.parse(n+" "+e.lunch_start+":00")),c=new Date(Date.parse(n+" "+e.lunch_end+":00")),s=a.getTime()-i.getTime(),d=r.getTime()-c.getTime(),l=s+d,f=t.milliToNormal(l);t.hoursWorked.push(f),t.pdfArray.push({date:n.toString(),dayStart:e.start.toString(),lunchStart:e.lunch_start.toString(),lunchEnd:e.lunch_end.toString(),dayEnd:e.end.toString(),comment:e.comments.toString()})}))}))},t.prototype.formatDate=function(t){var e=new Date(t),o=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear();return o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),[i,o,n].join("-")},t.prototype.milliToNormal=function(t){var e=parseInt(t/36e5%24),o=parseInt(t/6e4%60);return e=e<10?"0"+e:e,o=o<10?"0"+o:o,e+":"+o},t.prototype.exportToPDF=function(t){var e=this;console.log("Need to export "+this.authService.getUID()+" timesheet to PDF"),this.timesheetService.getPDFFileLocation(this.authService.getUID()).subscribe((function(t){var n=t.result;console.log("I CANT SEE DATA HERE: ",n),e.timesheetService.downloadPDFFile(n).subscribe((function(t){o.i(h.saveAs)(t,n);var e=URL.createObjectURL(t);window.open(e)}))}))},t.prototype.exportToCSV=function(t){alert("Need to export "+this.authService.getUID()+" timesheet to CSV")},t.prototype.editTimecard=function(t,e){this.showConfirmModal(e)},t.prototype.showConfirmModal=function(t){this.modalService.open(r.a,{size:"md"}).componentInstance.timecard=t},t})());u=__decorate([o.i(n._10)({selector:"timesheet-table",styles:[o(976)],template:o(1007)}),__metadata("design:paramtypes",[a.a,c.a,s.a,d.a,l.a,i.e,f.a])],u)},923:function(t,e,o){"use strict";var n=o(894);o.d(e,"a",(function(){return n.a}))},970:function(t,e,o){"use strict";var n=o(972);o.d(e,"a",(function(){return n.a}));o(885),o(971)},971:function(t,e,o){"use strict";(function(){function t(t,e,o){this.headers=t,this.rows=e,this.widths=o}})(),(function(){function t(t){this.content=t}})(),(function(){function t(t){this.cells=t}})()},972:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o(0),i=o(16),r=o(885),a=(function(){function t(){}return t.decorators=[{type:n.z,args:[{imports:[i.d],declarations:[],providers:[r.a]}]}],t.ctorParameters=function(){return[]},t})()},973:function(t,e){t.exports="input.task-todo{margin-bottom:8px}ul.todo-list{margin:0;padding:0}ul.todo-list li{margin:0 0 -1px 0;padding:12px;list-style:none;position:relative;border:1px solid transparent;cursor:grab;height:42px}ul.todo-list li i.remove-todo{position:absolute;cursor:pointer;top:0px;right:12px;font-size:32px;transition:color 0.2s;color:rgba(0,0,0,0.5);visibility:hidden;line-height:42px}ul.todo-list li i.remove-todo:hover{color:transparent}ul.todo-list li:hover i.remove-todo{visibility:visible}ul.todo-list li.checked .todo-text{color:#182319}ul.todo-list li.checked:before{background:transparent !important}ul.todo-list li i.mark{display:block;position:absolute;top:-1px;left:-1px;height:42px;min-width:4px;background:transparent;cursor:pointer;transition:min-width 0.3s ease-out}ul.todo-list li.active i.mark{min-width:40px}ul.todo-list li.active label.todo-checkbox>span:before{color:white;content:'\\f10c';margin-right:20px;transition:margin-right 0.1s ease-out;transition-delay:0.2s;float:none}ul.todo-list li.active label.todo-checkbox>input:checked+span:before{content:'\\f00c'}label.todo-checkbox{width:100%;padding-right:25px;min-height:16px;cursor:pointer}label.todo-checkbox>span{white-space:nowrap;height:16px}label.todo-checkbox>span:before{border:none;color:#eee;transition:all 0.15s ease-out}.add-item-icon{display:none}.ng2 .task-todo-container .todo-panel.panel,.blur .task-todo-container .todo-panel.panel{color:white;opacity:0.9}.ng2 .task-todo-container input.task-todo,.blur .task-todo-container input.task-todo{color:white;width:calc(100% - 25px);border-radius:0;border:none;background:transparent}.ng2 .task-todo-container input.task-todo:focus,.blur .task-todo-container input.task-todo:focus{outline:none;background-color:transparent;border-bottom:1px solid rgba(0,0,0,0.12);box-shadow:0px 1px 0px 0px rgba(255,255,255,0.12)}.ng2 .task-todo-container .add-item-icon,.blur .task-todo-container .add-item-icon{display:block;float:right;margin-top:-45px;margin-right:5px;font-size:25px;cursor:pointer}.ng2 .task-todo-container ul.todo-list li,.blur .task-todo-container ul.todo-list li{margin:0;border:none;font-weight:300}.ng2 .task-todo-container ul.todo-list li .blur-container,.blur .task-todo-container ul.todo-list li .blur-container{height:40px;position:absolute;width:calc(100% + 40px);top:0;left:-25px;overflow-y:hidden}.ng2 .task-todo-container ul.todo-list li:hover .blur-container,.blur .task-todo-container ul.todo-list li:hover .blur-container{box-shadow:0px 1px 0px 0px rgba(255,255,255,0.12)}.ng2 .task-todo-container ul.todo-list li:hover .blur-box,.blur .task-todo-container ul.todo-list li:hover .blur-box{height:100%;background:linear-gradient(to right, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%);-webkit-filter:blur(3px)}.ng2 .task-todo-container ul.todo-list li i.remove-todo,.blur .task-todo-container ul.todo-list li i.remove-todo{color:white;opacity:0.4}.ng2 .task-todo-container ul.todo-list li i.remove-todo:hover,.blur .task-todo-container ul.todo-list li i.remove-todo:hover{color:white;opacity:0.95}.ng2 .task-todo-container ul.todo-list li i.mark,.blur .task-todo-container ul.todo-list li i.mark{min-width:40px;display:none}.ng2 .task-todo-container ul.todo-list li label.todo-checkbox>span:before,.blur .task-todo-container ul.todo-list li label.todo-checkbox>span:before{position:absolute;color:#182319;content:'\\f10c';float:none;margin-right:6px;transition:none}.ng2 .task-todo-container ul.todo-list li.checked label.todo-checkbox>span:before,.blur .task-todo-container ul.todo-list li.checked label.todo-checkbox>span:before{content:'\\f00c'}.ng2 .task-todo-container .box-shadow-border,.blur .task-todo-container .box-shadow-border{border-bottom:1px solid rgba(0,0,0,0.12);box-shadow:0px 1px 0px 0px rgba(255,255,255,0.12);width:calc(100% + 44px);margin-left:-22px}\n"},974:function(t,e){t.exports=".modal-buttons .btn{margin-right:20px}.modal-content{color:#7d7d7d}.form-group>label,.form-group>label{color:#000000}input,select,textarea{color:#000000}input,select,textarea{color:#000000}textarea:focus,input:focus{color:#000000}.error{color:#FF0000}.hidden{display:none}\n"},975:function(t,e){t.exports=".modal-buttons .btn{margin-right:20px}.modal-content{color:#7d7d7d}.form-group>label,.form-group>label{color:#000000}input,select,textarea{color:#000000}input,select,textarea{color:#000000}textarea:focus,input:focus{color:#000000}.error{color:#FF0000}.hidden{display:none}\n"},976:function(t,e){t.exports=".label{padding-top:3px;padding-bottom:3px;padding-left:10px;padding-right:10px;border-radius:5px}\n"},977:function(t,e){t.exports='div.blurCalendar{font-size:12px}.fc{direction:ltr;text-align:left}.fc button{box-sizing:border-box;margin:0;height:2.1em;padding:0 .6em;font-size:1em;white-space:nowrap;cursor:pointer}.fc button::-moz-focus-inner{margin:0;padding:0}.fc button .fc-icon{position:relative;top:0}.fc .fc-button-group>*{float:left;margin:0 0 0 -1px}.fc .fc-button-group>:first-child{margin-left:0}.fc hr{height:0;margin:0;padding:0 0 2px;border-style:solid;border-width:1px 0}.fc table{width:100%;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc th,.fc td{border:1px solid rgba(255,255,255,0.3);padding:0;vertical-align:top}.fc td.fc-today{border-style:double}.fc .fc-row{border:0 solid}.fc .fc-toolbar>*>*{float:left;margin-left:.75em}.fc .fc-toolbar>*>:first-child{margin-left:0}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-rtl{text-align:right}.fc-unthemed th,.fc-unthemed td,.fc-unthemed hr,.fc-unthemed thead,.fc-unthemed tbody,.fc-unthemed .fc-row,.fc-unthemed .fc-popover{border-color:rgba(255,255,255,0.3)}.fc-unthemed .fc-popover{background-color:rgba(0,0,0,0.2);border:1px solid}.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed .fc-popover .fc-header .fc-close{color:#666666;font-size:25px;margin-top:4px}.fc-unthemed hr{background:#eee}.fc-unthemed .fc-today{background:rgba(255,255,255,0.15)}.fc-highlight{background:rgba(255,255,255,0.25);opacity:.3}.fc-icon{display:inline-block;font-size:2em;font-family:"Courier New", Courier, monospace}.fc-icon-left-single-arrow:after{content:"\\02039";font-weight:700;font-size:100%}.fc-icon-right-single-arrow:after{content:"\\0203A";font-weight:700;font-size:100%}.fc-icon-left-double-arrow:after{content:"\\000AB"}.fc-icon-right-double-arrow:after{content:"\\000BB"}.fc-icon-x:after{content:"\\000D7"}.fc-state-default{border:1px solid;outline:none;background:#f5f5f5 repeat-x;border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.1);color:#333333}.fc-state-default.fc-corner-left{border-top-left-radius:0px;border-bottom-left-radius:0px}.fc-state-default.fc-corner-right{border-top-right-radius:0px;border-bottom-right-radius:0px}.fc-state-hover,.fc-state-down,.fc-state-active,.fc-state-disabled{color:#333333;background-color:transparent}.fc-state-hover{color:#333333;text-decoration:none;background-position:0 -15px;transition:background-position 0.1s linear}.fc-state-down,.fc-state-active{background:#cccccc none}.fc-state-disabled{cursor:default;background-image:none;opacity:0.65;box-shadow:none}.fc-button-group{display:inline-block}.fc-popover{position:absolute}.fc-popover .fc-header{padding:2px 4px}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer}.fc-ltr .fc-popover .fc-header .fc-title,.fc-rtl .fc-popover .fc-header .fc-close{float:left}.fc-rtl .fc-popover .fc-header .fc-title,.fc-ltr .fc-popover .fc-header .fc-close{float:right}.fc-popover>.ui-widget-header+.ui-widget-content{border-top:0}.fc-clear{clear:both}.fc-bg,.fc-highlight-skeleton,.fc-helper-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc-row{position:relative}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row .fc-bg{z-index:1}.fc-row .fc-highlight-skeleton{z-index:2;bottom:0}.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-highlight-skeleton td{border-color:transparent}.fc-row .fc-content-skeleton{position:relative;z-index:3;padding-bottom:2px}.fc-row .fc-helper-skeleton{z-index:4}.fc-row .fc-content-skeleton td,.fc-row .fc-helper-skeleton td{background:none;border-color:transparent;border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-helper-skeleton tbody td{border-top:0}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.3;border:1px solid #96af4e;background-color:#96af4e;font-weight:400}.fc-event,.fc-event:hover,.ui-widget .fc-event{color:#182319;text-decoration:none}.fc-event[href],.fc-event.fc-draggable{cursor:pointer}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}.fc-ltr .fc-day-grid-event.fc-not-start,.fc-rtl .fc-day-grid-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-day-grid-event.fc-not-end,.fc-rtl .fc-day-grid-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-day-grid-event>.fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-day-grid-event .fc-resizer{position:absolute;top:0;bottom:0;width:7px}.fc-ltr .fc-day-grid-event .fc-resizer{right:-3px;cursor:e-resize}.fc-rtl .fc-day-grid-event .fc-resizer{left:-3px;cursor:w-resize}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-toolbar{text-align:center;margin-bottom:1em}.fc-toolbar .fc-left{float:left}.fc-toolbar .fc-right{float:right}.fc-toolbar .fc-center{display:inline-block}.fc-toolbar h2{margin:0;font-size:24px;width:100%;line-height:26px}.fc-toolbar button{position:relative}.fc-toolbar .fc-state-hover,.fc-toolbar .ui-state-hover{z-index:2}.fc-toolbar .fc-state-down{z-index:3}.fc-toolbar .fc-state-active,.fc-toolbar .ui-state-active{z-index:4}.fc-toolbar button:focus{z-index:5}.fc-view-container *,.fc-view-container *:before,.fc-view-container *:after{box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}.fc-basicWeek-view .fc-content-skeleton,.fc-basicDay-view .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc-basic-view tbody .fc-row{min-height:4em;max-height:70px}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-basic-view .fc-week-number,.fc-basic-view .fc-day-number{padding:0 2px}.fc-basic-view td.fc-week-number span,.fc-basic-view td.fc-day-number{padding-top:2px;padding-bottom:2px}.fc-basic-view .fc-week-number{text-align:center}.fc-basic-view .fc-week-number span{display:inline-block;min-width:1.25em}.fc-ltr .fc-basic-view .fc-day-number{text-align:right}.fc-rtl .fc-basic-view .fc-day-number{text-align:left}.fc-day-number.fc-other-month{opacity:0.3}.fc-agenda-view .fc-day-grid{position:relative;z-index:2}.fc-agenda-view .fc-day-grid .fc-row{min-height:3em}.fc-agenda-view .fc-day-grid .fc-row .fc-content-skeleton{padding-top:1px;padding-bottom:1em}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.ui-widget td.fc-axis{font-weight:400}.fc-time-grid-container,.fc-time-grid{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-highlight-skeleton{z-index:3}.fc-time-grid .fc-content-skeleton{position:absolute;z-index:4;top:0;left:0;right:0}.fc-time-grid>.fc-helper-skeleton{z-index:5}.fc-slats td{height:1.5em;border-bottom:0}.fc-slats .fc-minor td{border-top-style:dotted}.fc-slats .ui-widget-content{background:none}.fc-time-grid .fc-highlight-container{position:relative}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-time-grid .fc-event-container{position:relative}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-event{position:absolute;z-index:1}.fc-time-grid-event{overflow:hidden}.fc-time-grid-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-time-grid-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event>.fc-content{position:relative;z-index:2}.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{padding:0 1px;font-size:.85em;white-space:nowrap}.fc-time-grid-event .fc-bg{z-index:1;background:rgba(0,0,0,0.2);opacity:.25;filter:alpha(opacity=25)}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:"\\000A0-\\000A0"}.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top;font-size:.85em;padding:0}.fc-time-grid-event .fc-resizer{position:absolute;z-index:3;left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event .fc-resizer:after{content:"="}.fc-day-grid-container.fc-scroller{height:auto !important}.calendar-panel.card .card-body{padding:0}.fc-body>tr>.fc-widget-content{border:none}.fc-head{color:#182319;background-color:#96af4e}.fc-head td,.fc-head th{border:none}.fc-head div.fc-widget-header{padding:5px 0}.fc-today-button,.fc-month-button,.fc-agendaWeek-button,.fc-agendaDay-button{display:none}.blurCalendar{margin-top:15px}.fc-prev-button,.fc-next-button{position:absolute;background:transparent;box-shadow:none;border:none;color:#182319}.fc-next-button{left:30px}.fc-day-number{color:#182319;opacity:0.9}\n'}});